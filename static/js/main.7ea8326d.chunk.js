(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{18:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(4),r=n.n(o),i=n(3),s=(n(18),n(19),n(20),{fetchImages:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n="21816580-71493a440b7096ef43b823e18";return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat(n,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()}))}}),l=n(5),u=n(1),j=function(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(i.a)(n,2),o=a[0],r=a[1];return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),r("")):l.b.error("the field must not be empty!")},children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){r(e.currentTarget.value.toLowerCase())}})]})})},m=function(e){var t=e.images,n=e.handleImgClick;return t.map((function(e){var t=e.id,c=e.webformatURL,a=e.tags,o=e.largeImageURL;return Object(u.jsx)("li",{className:"ImageGalleryItem",children:Object(u.jsx)("img",{onClick:function(){return n(o)},src:c,alt:a,className:"ImageGalleryItem-image"})},t)}))},b=function(e){var t=e.images,n=e.handleImgClick;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("ul",{className:"ImageGallery",children:Object(u.jsx)(m,{handleImgClick:n,images:t})})})},h=n(8),d=n.n(h),p=function(e){var t=e.onClick;return Object(u.jsx)("button",{onClick:t,className:d.a.Button,type:"button",children:"Load more.."})},f=(n(22),n(9)),g=n.n(f),O=function(){return Object(u.jsx)(g.a,{type:"BallTriangle",color:"#00BFFF",height:80,width:80})},x=n(10),v=n(11),k=n(13),y=n(12),S=n(7),w=n.n(S),C=document.querySelector("#modal-root"),I=function(e){Object(k.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(x.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={},e.handleEscape=function(t){"Escape"===t.code&&e.props.toggleModal()},e.handleBackdrop=function(t){t.target===t.currentTarget&&e.props.toggleModal()},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleEscape)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleEscape)}},{key:"render",value:function(){return Object(o.createPortal)(Object(u.jsx)("div",{className:w.a.backdrop,onClick:this.handleBackdrop,children:Object(u.jsx)("div",{className:w.a.content,children:this.props.children})}),C)}}]),n}(c.Component),N=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)([]),r=Object(i.a)(o,2),m=r[0],h=r[1],d=Object(c.useState)(1),f=Object(i.a)(d,2),g=f[0],x=f[1],v=Object(c.useState)(!1),k=Object(i.a)(v,2),y=k[0],S=k[1],w=Object(c.useState)(!1),C=Object(i.a)(w,2),N=C[0],_=C[1],B=Object(c.useState)(""),E=Object(i.a)(B,2),F=E[0],L=E[1];Object(c.useEffect)((function(){""!==n&&(M(),h([]))}),[n]);var M=function(){S(!0),s.fetchImages(n,g).then((function(e){return h((function(t){return t.concat(e.hits)}))}),x((function(e){return e+1}))).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),S(!1)}))};return Object(u.jsxs)("div",{className:"App",children:[N&&Object(u.jsx)(I,{toggleModal:function(){_((function(e){return!e}))},children:Object(u.jsx)("img",{src:F,alt:""})}),Object(u.jsx)(j,{onSubmit:function(e){a(e)}}),Object(u.jsx)(b,{handleImgClick:function(e){L(e),_(!0)},images:m}),m.length>0&&Object(u.jsx)(p,{onClick:function(){M()}}),y&&Object(u.jsx)(O,{}),Object(u.jsx)(l.a,{autoClose:3e3})]})};r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(N,{})}),document.getElementById("root"))},7:function(e,t,n){e.exports={backdrop:"Modal_backdrop__1TPmw",content:"Modal_content__2KfJL"}},8:function(e,t,n){e.exports={Button:"LoadMoreBtn_Button__ernLm"}}},[[43,1,2]]]);
//# sourceMappingURL=main.7ea8326d.chunk.js.map