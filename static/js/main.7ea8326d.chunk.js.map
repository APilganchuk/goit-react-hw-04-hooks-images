{"version":3,"sources":["components/services/image-api.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/LoadMoreBtn/LoadMoreBtn.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js","components/Modal/Modal.module.css","components/LoadMoreBtn/LoadMoreBtn.module.css"],"names":["imagesApi","fetchImages","currentQuery","currentPage","KEY","fetch","then","response","json","Searchbar","onSubmit","useState","query","setQuery","className","e","preventDefault","trim","toast","error","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","images","handleImgClick","map","id","webformatURL","tags","largeImageURL","onClick","src","alt","ImageGallery","LoadMoreBtn","styles","Button","MyLoader","color","height","width","modalRoot","document","querySelector","Modal","state","handleEscape","event","code","props","toggleModal","handleBackdrop","target","window","addEventListener","this","removeEventListener","createPortal","backdrop","content","children","Component","App","img","setImg","setCurrentPage","isLoading","setIsloading","showModal","setShowModal","bigImg","setBigImg","useEffect","handleQuery","image","prevState","concat","hits","finally","scrollTo","top","documentElement","scrollHeight","behavior","length","autoClose","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.7ea8326d.chunk.js","sourcesContent":["const fetchImages = ( currentQuery, currentPage = \"1\" ) => {\r\n  const KEY = \"21816580-71493a440b7096ef43b823e18\";\r\n\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${currentQuery}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => response.json());\r\n};\r\n\r\nconst imagesApi = {\r\n  fetchImages,\r\n};\r\n\r\nexport default imagesApi;\r\n","import { toast } from \"react-toastify\";\r\nimport { useState } from \"react\";\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const onInputChange = (e) => {\r\n    setQuery(e.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (query.trim() === \"\") {\r\n      toast.error(\"the field must not be empty!\");\r\n      return;\r\n    }\r\n    onSubmit(query);\r\n\r\n    setQuery(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={query}\r\n          onChange={onInputChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\nexport default Searchbar;\r\n","const ImageGalleryItem = ({ images, handleImgClick }) => {\r\n  return images.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n    <li key={id} className=\"ImageGalleryItem\">\r\n      <img\r\n        onClick={() => handleImgClick(largeImageURL)}\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  ));\r\n};\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ images, handleImgClick }) => {\r\n  return (\r\n    <>\r\n      <ul className=\"ImageGallery\">\r\n        <ImageGalleryItem handleImgClick={handleImgClick} images={images} />\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import styles from \"./LoadMoreBtn.module.css\";\r\n\r\nconst LoadMoreBtn = ({ onClick }) => {\r\n  return (\r\n    <button onClick={onClick} className={styles.Button} type=\"button\">\r\n      Load more..\r\n    </button>\r\n  );\r\n};\r\nexport default LoadMoreBtn;\r\n","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nconst MyLoader = () => (\r\n  <Loader type=\"BallTriangle\" color=\"#00BFFF\" height={80} width={80} />\r\n);\r\nexport default MyLoader;\r\n","import { Component } from \"react\";\r\n\r\nimport styles from \"./Modal.module.css\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  state = {};\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleEscape);\r\n  }\r\n\r\n  handleEscape = (event) => {\r\n    if (event.code === \"Escape\") {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleEscape);\r\n  }\r\n\r\n  handleBackdrop = (event) => {\r\n    if (event.target === event.currentTarget) {\r\n      this.props.toggleModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.backdrop} onClick={this.handleBackdrop}>\r\n        <div className={styles.content}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport \"./App.css\";\r\nimport \"modern-normalize/modern-normalize.css\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport imagesApi from \"./components/services/image-api\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Searchbar from \"./components/Searchbar\";\r\nimport ImageGallery from \"./components/ImageGallery\";\r\nimport LoadMoreBtn from \"./components/LoadMoreBtn\";\r\nimport MyLoader from \"./components/Loader\";\r\nimport Modal from \"./components/Modal/Modal\";\r\n\r\nconst App = () => {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [img, setImg] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [isLoading, setIsloading] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [bigImg, setBigImg] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (query === \"\") {\r\n      return;\r\n    }\r\n    handleQuery();\r\n    setImg([]);\r\n  }, [query]);\r\n\r\n  const handleQuery = () => {\r\n    setIsloading(true);\r\n\r\n    imagesApi\r\n      .fetchImages(query, currentPage)\r\n      .then(\r\n        (image) => setImg((prevState) => prevState.concat(image.hits)),\r\n        setCurrentPage((prevState) => prevState + 1)\r\n      )\r\n      .finally(() => {\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n        setIsloading(false);\r\n      });\r\n  };\r\n  const handleFormSubmit = (query) => {\r\n    setQuery(query);\r\n  };\r\n  const onClickLoadMoreBtn = () => {\r\n    handleQuery();\r\n  };\r\n  const handleImgClick = (src) => {\r\n    setBigImg(src);\r\n    setShowModal(true);\r\n  };\r\n  const toggleModal = () => {\r\n    setShowModal((prevState) => !prevState);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {showModal && (\r\n        <Modal toggleModal={toggleModal}>\r\n          <img src={bigImg} alt=\"\" />\r\n        </Modal>\r\n      )}\r\n      <Searchbar onSubmit={handleFormSubmit} />\r\n      <ImageGallery handleImgClick={handleImgClick} images={img} />\r\n      {img.length > 0 && <LoadMoreBtn onClick={onClickLoadMoreBtn} />}\r\n\r\n      {isLoading && <MyLoader />}\r\n      <ToastContainer autoClose={3000} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1TPmw\",\"content\":\"Modal_content__2KfJL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"LoadMoreBtn_Button__ernLm\"};"],"sourceRoot":""}